#lang rhombus/static/and_meta
import:
  "type.rhm".Size

export:
  Bitmap
  BitmapForward
  bitmap_from_handle
  set_bitmap_from_handle

class Bitmap(private _handle):
  nonfinal
  property handle: _handle

  constructor (hand):
    super(hand)

  abstract property width
  abstract property height
  abstract property size :: Size

annot.delayed_declare BitmapForward

def mutable bitmap_from_handle = fun (n): error("not ready")

fun set_bitmap_from_handle(f):
  bitmap_from_handle := f
